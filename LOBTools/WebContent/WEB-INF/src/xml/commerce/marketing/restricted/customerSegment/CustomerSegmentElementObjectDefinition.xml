<?xml version="1.0" encoding="UTF-8"?>

<!--
 =================================================================
  Licensed Materials - Property of IBM

  WebSphere Commerce

  (C) Copyright IBM Corp. 2015 All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or
  disclosure restricted by GSA ADP Schedule Contract with
  IBM Corp.
 =================================================================
-->
<Definitions>
	<!---
		<p>This is the base object definition for all customer segment <code>AND</code> or <code>OR</code> list condition object definitions. In order
		to add a customer segment condition that may exist as a list that should be logically <code>AND</code>'d or <code>OR</code>'d
		together, a new class should be created that refers this base class. Implementations using this base type must provide the following attributes:
		<ul>
		<li><code>{@link cmc/foundation/ObjectDefinition#objectType objectType}</code> - The unique name for this customer segment condition object.</li>
		<li><code>{@link cmc/foundation/ObjectDefinition#baseType baseType}</code> - Must be <code>CSElementAndOrListConditionObjectDefinition</code>.</li>
		</ul>
		</p>

		<p>The following attribute has already been defined and must not be changed:
		<ul>
		<li><code>{@link cmc/foundation/ObjectDefinition#idProperty idProperty}</code> - The property containing the identifier for the customer segment
		condition is always <code>elementName</code>. The value corresponds to the value of the NAME column of the MGPCONDELE table and is
		unique within a customer segment.</li>
		</ul>
		</p>

		<p>Implementations for new customer segment condition object definitions do not require any services to be defined as instances
		of {@link cmc/marketing/CSElementCreateService}, {@link cmc/marketing/CSElementUpdateService} and {@link cmc/marketing/CSElementDeleteService} are already defined
		in this base class. However, implementations should have at least one child {@link cmc/foundation/ChildObjectDefinition} with
		<code>{@link cmc/foundation/ChildObjectDefinition#baseType baseType}</code> set to <code>{@link cmc/marketing/CSElementSimpleConditionObjectDefinition}</code>.</p>

		<p>See {@link cmc/foundation/ChildObjectDefinition} for more details on what child classes may be instantiated as part of the customer segment condition
		object definition.</p>

		<p>All customer segment conditions have the following reserved {@link cmc/foundation/ModelProperty properties} that must be returned by the serializing JSP
		of the customer segment condition:
		<ul>
		<li><code>conditionUniqueId</code> - This read-only property is generated by the server when the customer segment condition is created and
		is stored in the MGPCONDELE_ID column of the MGPCONDELE table.</li>
		<li><code>conditionUsage</code> - This property defines whether this list is an AND type list or an OR type list. This value must be either
		<code>andListCondition</code> or <code>orListCondition</code> and is stored in the TYPE column of the MGPCONDELE table.</li>
		</ul>
		</p>

		@keywords abstract
	-->
	<ChildObjectDefinition definitionName="cmc/marketing/CSElementAndOrListConditionObjectDefinition" idProperty="elementName" isBaseDefinition="true">
		<CreateService baseDefinition="cmc/marketing/CSElementCreateService">
			<ServiceParam name="parentElementName" objectPath="TopAndList" parentProperty="true" propertyName="elementName"/>
			<ServiceParam name="parentUniqueId" objectPath="TopAndList" parentProperty="true" propertyName="conditionUniqueId"/>
		</CreateService>
		<UpdateService baseDefinition="cmc/marketing/CSElementUpdateService">
			<ServiceParam name="parentElementName" objectPath="TopAndList" parentProperty="true" propertyName="elementName"/>
			<ServiceParam name="parentUniqueId" objectPath="TopAndList" parentProperty="true" propertyName="conditionUniqueId"/>
		</UpdateService>
		<DeleteService baseDefinition="cmc/marketing/CSElementDeleteService"/>
		<!--- Unique name of the customer segment condition. -->
		<PropertyDefinition copyProtected="false" propertyName="elementName"/>
		<!--- Property that contains the server-generated unique identifier of the customer segment condition. -->
		<PropertyDefinition copyProtected="true" propertyName="conditionUniqueId" serverManaged="true"/>
		<!--- Defines whether or not the child simple conditions of this list should be logically <code>AND</code>'d or <code>OR</code>'d together. -->
		<PropertyDefinition propertyName="conditionUsage">
			<PropertyValue value="andListCondition"/>
			<PropertyValue value="orListCondition"/>
		</PropertyDefinition>
	</ChildObjectDefinition>

	<!---
		<p>This is the base object definition for all customer segment simple condition object definitions. Implementations using this base
		type must provide the following attributes:
		<ul>
		<li><code>{@link cmc/foundation/ObjectDefinition#objectType objectType}</code> - The unique name for this customer segment condition object.</li>
		<li><code>{@link cmc/foundation/ObjectDefinition#baseType baseType}</code> - Must be <code>cmc/marketing/CSElementSimpleConditionObjectDefinition</code>.</li>
		</ul>
		</p>

		<p>The following attribute has already been defined and must not be changed:
		<ul>
		<li><code>{@link cmc/foundation/ObjectDefinition#idProperty idProperty}</code> - The property containing the identifier for the customer segment
		condition is always <code>elementName</code>. The value corresponds to the value of the NAME column of the MGPCONDELE table and is
		unique within a customer segment.</li>
		</ul>
		</p>

		<p>Implementations for new customer segment condition object definitions do not require any services to be defined as instances
		of {@link cmc/marketing/CSElementCreateService}, {@link cmc/marketing/CSElementUpdateService} and {@link cmc/marketing/CSElementDeleteService} are already defined
		in this base class. Implementations extending from this base type should be instantiated as children of another object that has
		a <code>{@link cmc/foundation/ChildObjectDefinition#baseType baseType}</code> of <code>{@link cmc/marketing/CSElementAndOrListConditionObjectDefinition}</code>.</p>

		<p>See {@link cmc/foundation/ChildObjectDefinition} for more details on what child classes may be instantiated as part of the customer segment condition
		object definition.</p>

		<p>All customer segment conditions have the following reserved {@link cmc/foundation/ModelProperty properties} that must be returned by the serializing JSP
		of the customer segment condition:
		<ul>
		<li><code>conditionUniqueId</code> - This read-only property is generated by the server when the customer segment condition is created and
		is stored in the MGPCONDELE_ID column of the MGPCONDELE table.</li>
		<li><code>conditionVariable</code> - This property should be a string 254 characters or less and must correspond to the <code>variable</code>
		name used on the server side of the custom customer segment condition. This value is stored in the VARIABLE column of the MGPCONDELE
		table and when generated into the CONDITIONS column of the MBRGRPCOND table, will appear as
		<code>&lt;variable name="<i>conditionValue</i>"&gt;</code> where <code>conditionValue</code> will actually be the value stored
		in this property. The {@link cmc/foundation/PropertyDefinition} for this property has not been defined by this base type, and should be
		defined by any implementations of this base type.</li>
		<li><code>conditionOperator</code> - This property should be a string 16 characters or less and must be a value that the server-side
		logic implementing <code>conditionVariable</code> recognizes. This value is stored in the OPERATOR column of the MGPCONDELE
		table and when generated into the CONDITIONS column of the MBRGRPCOND table, will appear as
		<code>&lt;operator name="<i>conditionOperator</i>"&gt;</code> where <code>conditionOperator</code> will actually be the value stored
		in this property. The {@link cmc/foundation/PropertyDefinition} for this property has not been defined by this base type, and should be
		defined by any implementations of this base type.</li>
		<li><code>conditionValue</code> - This property should contain a value 254 characters or less and must be a value that the server-side
		logic implementing <code>conditionVariable</code> will use to evaluate the customer. This value is stored in the VALUE column of the MGPCONDELE
		table and when generated into the CONDITIONS column of the MBRGRPCOND table, will appear as
		<code>&lt;value data="<i>conditionValue</i>"&gt;</code> where <code>conditionValue</code> will actually be the value stored
		in this property.The {@link cmc/foundation/PropertyDefinition} for this property has not been defined by this base type, and should be
		defined by any implementations of this base type.</li>
		</ul>
		</p>

		@keywords abstract
	-->
	<ChildObjectDefinition definitionName="cmc/marketing/CSElementSimpleConditionObjectDefinition" idProperty="elementName" isBaseDefinition="true">
		<CreateService baseDefinition="cmc/marketing/CSElementCreateService">
			<ServiceParam name="parentElementName" parentProperty="true" propertyName="elementName" resolvePrimaryParent="false"/>
			<ServiceParam name="parentUniqueId" parentProperty="true" propertyName="conditionUniqueId" resolvePrimaryParent="false"/>
			<ServiceParam name="conditionUsage" value="simpleCondition"/>
		</CreateService>
		<UpdateService baseDefinition="cmc/marketing/CSElementUpdateService">
			<ServiceParam name="parentElementName" parentProperty="true" propertyName="elementName" resolvePrimaryParent="false"/>
			<ServiceParam name="parentUniqueId" parentProperty="true" propertyName="conditionUniqueId" resolvePrimaryParent="false"/>
			<ServiceParam name="conditionUsage" value="simpleCondition"/>
		</UpdateService>
		<DeleteService baseDefinition="cmc/marketing/CSElementDeleteService"/>
		<!--- Property that contains the server-generated unique identifier of the customer segment condition. -->
		<PropertyDefinition copyProtected="true" propertyName="conditionUniqueId" serverManaged="true"/>
	</ChildObjectDefinition>
</Definitions>