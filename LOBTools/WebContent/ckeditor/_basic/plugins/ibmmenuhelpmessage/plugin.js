CKEDITOR.plugins.add("ibmmenuhelpmessage",{lang:"ar,ca,cs,da,de,el,en,es,fi,fr,he,hr,hu,it,iw,ja,kk,ko,nb,nl,no,pl,pt,pt-br,ro,ru,sk,sl,sv,th,tr,uk,zh,zh-cn,zh-tw",init:function(e){function i(b,e,c){b=new CKEDITOR.dom.element(b,e);b.setAttribute("class",c);return b}!e.config.disableNativeSpellChecker&&(e.config.displayContextMenuHelpMessage&&!1!==e.config.browserContextMenuOnCtrl)&&(e.on("menuShow",function(b){for(var n=CKEDITOR.env.mac?e.lang.ibmmenuhelpmessage.keystrokeForContextMenuMac:e.lang.ibmmenuhelpmessage.keystrokeForContextMenu,
b=(b.data[0]||b.data).element.getElementsByTag("iframe").getItem(0),c=b.getFrameDocument(),h=c.getBody().getElementsByTag("div"),l=0;l<h.count();l++){var a=h.getItem(l).getAttribute("style"),d;a:{d=h.getItem(l);if("cke_panel_block"==d.getAttribute("class")&&(!a||"display: none;"!=a))if(d=d.getElementsByTag("div").getItem(0),"cke_menu"==d.getAttribute("class")||d.getAttribute("class").replace(/ /g,"")=="cke_menu cke_mixed_dir_content".replace(/ /g,"")){b:{for(var a=d.getElementsByTag("a").getItem(0).getAttribute("class"),
j=["toolbarContextMenu","language","submenuItem"],g=0;g<j.length;g++)if(0<a.indexOf(j[g])){a=!1;break b}a=!0}if(a)break a}d=void 0}if(d){a=i("div",c,"cke_menuseparator");a.setAttribute("role","separator");d.append(a);a=i("span",c,"cke_contextmenu_background_color cke_menubutton");j=i("span",c,"cke_contextmenu_background_color cke_menubutton_inner");g=i("span",c,"cke_button_icon cke_button_info_icon");j.append(g);var g=i("span",c,"cke_contextmenu_background_color"),k=i("div",c,"cke_contextmenu_message");
k.setHtml(n);g.append(k);var k=d.getParent(),f=b.getAttribute("aria-describedby");if(f){var m=f.indexOf("ibmcke_context_menu_msg_id");-1<m&&("ibmcke_context_menu_msg_id"==f?b.removeAttribute("aria-describedby"):b.setAttribute("aria-describedby",f.substring(0,m)))}(f=k.getAttribute("aria-describedby"))?(m=f.indexOf("ibmcke_context_menu_msg_id"),-1==m&&(f+="ibmcke_context_menu_msg_id",k.setAttribute("aria-describedby",f))):k.setAttribute("aria-describedby","ibmcke_context_menu_msg_id");j.append(g);
a.append(j);d.append(a);document.getElementById("ibmcke_context_menu_msg_id")||(a=new CKEDITOR.dom.element("div",c),a.setAttribute("style","display:none"),a.setAttribute("id","ibmcke_context_menu_msg_id"),a.setText(n),d.getParent().append(a))}}}),e.on("contentDom",function(b){b.editor.editable().on("contextmenu",function(b){this.focusManager.hasFocus||(this.getSelection().getSelectedElement()?this.getSelection().getSelectedElement().focus():this.focus());this.contextMenu._.onShow();for(var c=this.contextMenu,
h=0;h<c.items.length;h++)if(1!=c.items[h].group)return;e.config.displayPermamentPenMenu||b.stop()},this,null,0)}))}});