<?xml version="1.0" encoding="UTF-8"?>
<!--
 =================================================================
  Licensed Materials - Property of IBM

  WebSphere Commerce

  (C) Copyright IBM Corp. 2013 All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or
  disclosure restricted by GSA ADP Schedule Contract with
  IBM Corp.
 =================================================================
-->
<testcase>

	<!-- Open Page Layout tool -->
	<action name="cmc/automation/AutoOpenToolAction">
		<param name="toolId" value="pageComposer"/>
	</action>
	
	<!-- Select store -->
	<action name="cmc/automation/AutoSelectStoreAction">
		<param name="storeKey" value="storeIdentifier"/>
	</action>

<!--
	========================================================================================================================
	1. Create Page Layout using ContentPageTemplate
	========================================================================================================================
--> 	

	<!-- Find the PageLayoutTemplate object -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindPageLayoutTemplates"/>
		<param name="searchKey" value="contentPgTemplate_name"/>
		<param name="objectKey" value="contentPageTemplate"/>
	</action>
	
	<!-- Verify the PageLayoutTemplate object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentPageTemplate"/>
	</action>
	
	<!-- Create the PageLayout object -->		
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="objectType" value="PageLayout"/>
		<param name="templateObject" value="contentPageTemplate"/>
		<param name="objectKey" value="contentPageLayout"/>
	</action>
	
	<!-- Set PageLayout name property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_contentPgLayout_name"/>
	</action>
	
	<!-- Set PageLayout page location priority property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_priority"/>
	</action>
	
	<!-- Set PageLayout page location startDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_startDate"/>
	</action>
	
	<!-- Set PageLayout page location endDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_endDate"/>
	</action>

	<!-- Find the content page object -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindContentPages"/>
		<param name="searchKey" value="test_helpPg_name"/>
		<param name="objectKey" value="contentPage"/>
	</action>
	
	<!-- Verify the content page object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentPage"/>
	</action>
		
	<!-- Create the LayoutLocationContentPageReference reference object -->		
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentPageLayout"/>
		<param name="referencedObject" value="contentPage"/>
		<param name="objectType" value="LayoutLocationContentPageReference"/>
		<param name="objectKey" value="pageLayoutLocationContentPageReference"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	2. Find and verify created the content page layout object 
	========================================================================================================================
--> 		

	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_contentPgLayout_name"/>
		<param name="objectKey" value="contentPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentPageLayout"/>
	</action>
	
	<!-- Load the LayoutLocationContentPageReference object. -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="contentPageLayout"/>
		<param name="objectType" value="LayoutLocationContentPageReference"/>
	</action>
	
	<!-- Get the loaded Content page referenced by pageLayout object. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentPageLayout"/>
		<param name="objectPath" value="LayoutLocationPageReferenceAlias/PageAlias"/>
		<param name="propertyName" value="name"/>
		<param name="propertyValueKey" value="test_helpPg_name"/>
		<param name="objectKey" value="pageLocationContentPage"/>
	</action>
	
	<!-- Verify that the page location referenced contentpage exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="pageLocationContentPage"/>
	</action>
	
	<!-- Verify PageLayout page location priority property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_priority"/>
	</action>
	
	<!-- Verify PageLayout page location startDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_startDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>
	
	<!-- Verify PageLayout page location endDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_endDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>

<!--
	========================================================================================================================
	3. modify PageLayout object 
	========================================================================================================================
-->	
	
		<!-- update PageLayout name property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_contentPgLayout_name_modified"/>
	</action>
	
	<!-- update PageLayout page location priority property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_modpriority"/>
	</action>
	
	<!-- update PageLayout page location startDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_modstartDate"/>
	</action>
	
	<!-- update PageLayout page location endDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_modendDate"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>
	
	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	4. Find  and verify the modified content pageLayout object
	========================================================================================================================
-->	

	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_contentPgLayout_name_modified"/>
		<param name="objectKey" value="contentPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentPageLayout"/>
	</action>

	<!-- Verify PageLayout page location priority property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_modpriority"/>
	</action>
	
	<!-- Verify PageLayout page location startDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_modstartDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>
	
	<!-- Verify PageLayout page location endDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_modendDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>
	
	<!-- ==== Test deleting the pageLayout object.==== -->
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="contentPageLayout"/>
	</action>
	
	<!--	 Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!--	 Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
<!--	 Try to find the modified content page object -->

	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_contentPgLayout_name_modified"/>
		<param name="objectKey" value="contentPageLayout"/>
	</action>
	
	<!-- Verify the page layout object does not exist. -->
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="contentPageLayout"/>
	</action>

	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
<!--
	========================================================================================================================
	5. Create Layout for Category page using SubCategoryPageTemplate
	========================================================================================================================
--> 	

	<!-- Find the category page object -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindCategoryBrowsingPages"/>
		<param name="searchKey" value="test_categoryPg_name"/>
		<param name="objectKey" value="categoryPage"/>
	</action>
	
	<!-- Verify the category Page object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPage"/>
	</action>
	
	<!-- Find the PageLayoutTemplate object -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindPageLayoutTemplates"/>
		<param name="searchKey" value="test_categoryPgTemplate_name"/>
		<param name="objectKey" value="categoryPageTemplate"/>
	</action>
	
	<!-- Verify the PageLayoutTemplate object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageTemplate"/>
	</action>
	
	<!-- Create the PageLayout object -->		
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="objectType" value="PageLayout"/>
		<param name="templateObject" value="categoryPageTemplate"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Set PageLayout name property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_categoryPgLayout_name"/>
	</action>
	
	<!-- Set PageLayout page location priority property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_priority"/>
	</action>
	
	<!-- Set PageLayout page location startDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_startDate"/>
	</action>
	
	<!-- Set PageLayout page location endDate property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_endDate"/>
	</action>
	
	<!-- Create the LayoutLocationCatalogGroupPageReference object -->		
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="referencedObject" value="categoryPage"/>
		<param name="objectType" value="LayoutLocationCatalogGroupPageReference"/>
		<param name="objectKey" value="layoutLocationCatalogGroupPageReference"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	6. verify created the category page layout object
	========================================================================================================================
--> 		
	<!-- ===== Find and verify created the page layout object ======= -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>
	
	<!-- Load the ContentPage page layout object. -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="LayoutLocationCatalogGroupPageReference"/>
	</action>
	
	<!-- Get the loaded Category page referenced by pageLayout object. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="LayoutLocationPageReferenceAlias/PageAlias"/>
		<param name="propertyName" value="name"/>
		<param name="propertyValueKey" value="test_categoryPg_name"/>
		<param name="objectKey" value="pageLocationCategoryPage"/>
	</action>
	
	<!-- Verify that the page location referenced category page exists. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="pageLocationCategoryPage"/>
	</action>
	
	<!-- Verify PageLayout name property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_categoryPgLayout_name"/>
	</action>
	
	<!-- Verify PageLayout page location priority property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="priority"/>
		<param name="valueKey" value="test_plassignment_priority"/>
	</action>
	
	<!-- Verify PageLayout page location startDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="startDate"/>
		<param name="valueKey" value="test_pl_startDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>
	
	<!-- Verify PageLayout page location endDate property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="propertyName" value="endDate"/>
		<param name="valueKey" value="test_pl_endDate"/>
		<param name="endKey" value="pl_DateLength"/>
	</action>

<!--
	========================================================================================================================
	7. Assign facebook, Category Navigation and Content Recommendation Widget to slot of Catalog group page layout
	========================================================================================================================
-->
	
	<!-- Load the LayoutContainerWidget child object. -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="LayoutContainerWidget"/>
	</action>
	
	<!-- Get the loaded LayoutSlot child object with slotIdentifier match test_widget_slotIdentifier. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="LayoutContainerWidget/LayoutSlot"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="propertyValueKey" value="test_widget_slotIdentifier"/>
		<param name="objectKey" value="layoutSlot"/>
	</action>
	
	<!-- Verify that the LayoutSlot object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="layoutSlot"/>
	</action>

	<!--
	=============================================
	facebook widget
	=============================================
	-->
	<!-- Create the FacebookActivityWidget child object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectType" value="FacebookActivityWidget"/>
		<param name="objectKey" value="facebookActivityWidget"/>
	</action>
	
	<!-- Set FacebookActivityWidget widgetDefId property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_facebookWidgetDefId"/>
	</action>
	
	<!-- Set FacebookActivityWidget slotIdentifier property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
	
	<!-- Set FacebookActivityWidget widgetName property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="valueKey" value="test_facebookWidgetName"/>
	</action>
	
	<!--
	=============================================
	CategoryNavigationWidget
	=============================================
	-->
	<!-- Create the CategoryNavigationWidget child object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectType" value="CategoryNavigationWidget"/>
		<param name="objectKey" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Set CategoryNavigationWidget widgetDefId property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_categoryNavigationWidgetDefId"/>
	</action>
	
	<!-- Set CategoryNavigationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
	
	<!-- Set CategoryNavigationWidget widgetName property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="valueKey" value="test_categoryNavigationWidgetName"/>
	</action>
	
	<!-- Set CategoryNavigationWidget name value pair properties -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation"/>
	</action>
		
	<!--
	============================================================
	ContentRecommendationWidget - setup to use marketing content
	============================================================
	-->
	<!-- Create the ContentRecommendationWidget child object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Set ContentRecommendationWidget widgetDefId property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_contentRecommendationWidgetDefId"/>
	</action>
	
	<!-- Set ContentRecommendationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
	
	<!-- Set ContentRecommendationWidget widgetName property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="valueKey" value="test_contentRecommendationWidgetName"/>
	</action>
	
	<!-- Set ContentRecommendationWidget orientation -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation_horizontal"/>
	</action>
	
	<!-- Set ContentRecommendationWidget display preference -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_displayPreference"/>
		<param name="valueKey" value="test_xWidgetProp_displayPreference_gray"/>
	</action>
	
	<!-- Set ContentRecommendationWidget subscriber feed -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_showFeed"/>
		<param name="valueKey" value="test_xWidgetProp_showFeed_true"/>
	</action>
	
	<!-- Set ContentRecommendationWidget content choice to marketing content -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_populationChoice"/>
		<param name="valueKey" value="test_xWidgetProp_populationChoice_default"/>
	</action>
	
	<!-- Create the ContentRecommendationWidget title child object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectType" value="WidgetDisplayTitle"/>
		<param name="objectKey" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Set display title -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="widgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="valueKey" value="test_xExtData_displayTitle"/>
	</action>
	
	<!-- Get marketing content -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindMarketingContent"/>
		<param name="searchKey" value="test_marketingContent_name"/>
		<param name="objectKey" value="marketingContent"/>
	</action>
	
	<!-- Verify content object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="marketingContent"/>
	</action>
	
	<!-- Create the ContentRecommendationWidget content reference object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="referencedObject" value="marketingContent"/>
		<param name="objectType" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<!-- Set ContentRecommendationWidget content reference sequence -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_content_sequence"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>
	
	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	8. Verify assigned facebook, Category Navigation and Content Recommendation widget
	========================================================================================================================
-->	
	
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>

	
	<!--
	=============================================
	facebook widget
	=============================================
	-->		
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="FacebookActivityWidget"/>
	</action>

	<!-- Get the loaded facebookActivityWidget child object with wigetName property match test_facebookWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="FacebookActivityWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_facebookWidgetName"/>
		<param name="objectKey" value="facebookActivityWidget"/>
	</action>
	
	<!-- Verify that the facebookActivityWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="facebookActivityWidget"/>
	</action>
	
	<!-- Verify FacebookActivityWidget widgetDefId property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_facebookWidgetDefId"/>
	</action>
	
	<!-- Verify FacebookActivityWidget slotIdentifier property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
		
	<!-- Verify FacebookActivityWidget sequence property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="facebookActivityWidget"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_widgetSequence"/>
	</action>
	
	<!--
	=============================================
	CategoryNavigation Widget 
	=============================================
	-->	

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="CategoryNavigationWidget"/>
	</action>
	
	<!-- Get the loaded categoryNavigationWidget child object with wigetName property match test_categoryNavigationWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="CategoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_categoryNavigationWidgetName"/>
		<param name="objectKey" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Verify that the categoryNavigationWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Verify CategoryNavigationWidget widgetDefId property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_categoryNavigationWidgetDefId"/>
	</action>
	
	<!-- Verify CategoryNavigationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
	
	<!-- Verify CategoryNavigationWidget sequence property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_widgetSequence"/>
	</action>
	
	<!-- Verify CategoryNavigationWidget name value pair properties -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation"/>
	</action>

	<!--
	=============================================
	Verify ContentRecommendation Widget 
	=============================================
	-->	

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
	</action>
	
	<!-- Get the ContentRecommendationWidget -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="ContentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_contentRecommendationWidgetName"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify that the ContentRecommendationWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget widgetDefId property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="widgetDefId"/>
		<param name="valueKey" value="test_contentRecommendationWidgetDefId"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_widget_slotIdentifier"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget sequence property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_widgetSequence"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget orientation -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation_horizontal"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget display choice -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_displayPreference"/>
		<param name="valueKey" value="test_xWidgetProp_displayPreference_gray"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget subscriber feed -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_showFeed"/>
		<param name="valueKey" value="test_xWidgetProp_showFeed_true"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget content selection -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_populationChoice"/>
		<param name="valueKey" value="test_xWidgetProp_populationChoice_default"/>
	</action>
	
	<!-- Verify the ContentRecommendationWidget title child object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="WidgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="propertyValueKey" value="test_xExtData_displayTitle"/>
		<param name="objectKey" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify title object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify the ContentRecommendationWidget content reference object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="propertyName" value="sequence"/>
		<param name="propertyValueKey" value="test_content_sequence"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<!-- Verify reference object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<!-- Verify the ContentRecommendationWidget content object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="defaultEMarketingSpotMarketingContentReference"/>
		<param name="objectPath" value="MarketingContent"/>
		<param name="objectKey" value="marketingContent"/>
	</action>
	
	<!-- Verify content object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="marketingContent"/>
	</action>
	
<!--
	========================================================================================================================
	9. Test modify CategoryNavigationWidget and Content RecommendationWidget objects
	========================================================================================================================
-->
	<!-- Load the LayoutContainerWidget child object. -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="LayoutContainerWidget"/>
	</action>
	
	<!-- Get the loaded LayoutSlot child object with slotIdentifier match test_modwidget_slotIdentifier. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="LayoutContainerWidget/LayoutSlot"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="propertyValueKey" value="test_modwidget_slotIdentifier"/>
		<param name="objectKey" value="layoutSlot"/>
	</action>
	
	<!-- Verify that the LayoutSlot object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="layoutSlot"/>
	</action>
	
	<!-- Set CategoryNavigationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_modwidget_slotIdentifier"/>
	</action>
	
	<!-- set CategoryNavigationWidget widgetName property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="valueKey" value="test_modcategoryNavigationWidgetName"/>
	</action>

	<!-- Verify CategoryNavigationWidget sequence property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_modwidgetSequence"/>
	</action>
	
	<!-- Set CategoryNavigationWidget name value pair properties -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_modxWidgetProp_widgetOrientation"/>
	</action>
	
	<!--
	=================================================================
	Modify the Content Recommendation widget - change content object
	=================================================================
	-->
	
	<!-- Set ContentRecommendationWidget widgetName property -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="valueKey" value="test_contentRecommendationWidgetName2"/>
	</action>
	
	<!-- Set ContentRecommendationWidget display preference -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_displayPreference"/>
		<param name="valueKey" value="test_xWidgetProp_displayPreference_transparent"/>
	</action>
	
	<!-- Set ContentRecommendationWidget subscriber feed -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_showFeed"/>
		<param name="valueKey" value="test_xWidgetProp_showFeed_false"/>
	</action>
	
	<!-- Get the ContentRecommendationWidget title child object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="WidgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="propertyValueKey" value="test_xExtData_displayTitle"/>
		<param name="objectKey" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify title object exists. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Set ContentRecommendationWidget new title -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="widgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="valueKey" value="test_xExtData_displayTitle2"/>
	</action>
	
	<!-- Delete existing content object. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="propertyName" value="sequence"/>
		<param name="propertyValueKey" value="test_content_sequence"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<!-- Find new content object to add. -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindMarketingContent"/>
		<param name="searchKey" value="test_marketingContent_name2"/>
		<param name="objectKey" value="marketingContent2"/>
	</action>
	
	<!-- Verify content object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="marketingContent2"/>
	</action>
	
	<!-- Create new content reference object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="referencedObject" value="marketingContent2"/>
		<param name="objectType" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference2"/>
	</action>
	
	<!-- Set content reference sequence -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference2"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_content_sequence2"/>
	</action>
	
	<!--	 Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!--	 Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	10. Verify modified Category Navigation and Content Recommendation widgets
	========================================================================================================================
-->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="CategoryNavigationWidget"/>
	</action>
	
	<!-- Get the loaded categoryNavigationWidget child object with wigetName property match test_modcategoryNavigationWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="CategoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_modcategoryNavigationWidgetName"/>
		<param name="objectKey" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Verify that the categoryNavigationWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryNavigationWidget"/>
	</action>

	<!-- Verify CategoryNavigationWidget slotIdentifier property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="slotIdentifier"/>
		<param name="valueKey" value="test_modwidget_slotIdentifier"/>
	</action>
		
	<!-- Verify CategoryNavigationWidget sequence property -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="sequence"/>
		<param name="valueKey" value="test_modwidgetSequence"/>
	</action>

	<!-- Verify CategoryNavigationWidget name value pair properties -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="categoryNavigationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_modxWidgetProp_widgetOrientation"/>
	</action>
	
	<!--
	=================================================================
	Verify the modified Content Recommendation widget
	=================================================================
	-->
	
	<!-- Get widget object. -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="ContentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_contentRecommendationWidgetName2"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify object exists. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget display preference -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_displayPreference"/>
		<param name="valueKey" value="test_xWidgetProp_displayPreference_transparent"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget subscriber feed -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_showFeed"/>
		<param name="valueKey" value="test_xWidgetProp_showFeed_false"/>
	</action>
	
	<!-- Get the ContentRecommendationWidget title child object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="WidgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="propertyValueKey" value="test_xExtData_displayTitle2"/>
		<param name="objectKey" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify title object exists. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify old content object was deleted. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="propertyName" value="sequence"/>
		<param name="propertyValueKey" value="test_content_sequence"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference"/>
	</action>
	
	<!-- Verify new content reference object exists. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="DefaultEMarketingSpotMarketingContentReference"/>
		<param name="propertyName" value="sequence"/>
		<param name="propertyValueKey" value="test_content_sequence2"/>
		<param name="objectKey" value="defaultEMarketingSpotMarketingContentReference2"/>
	</action>
	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="defaultEMarketingSpotMarketingContentReference2"/>
	</action>
	
	<!-- Verify content exists. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="defaultEMarketingSpotMarketingContentReference2"/>
		<param name="objectPath" value="MarketingContent"/>
		<param name="objectKey" value="marketingContent"/>
	</action>
	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="marketingContent"/>
	</action>
	
<!--
	========================================================================================================================
	11. Modify Content RecommendationWidget objects - switch to activity
	========================================================================================================================
-->
	<!-- Set ContentRecommendationWidget orientation -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation_vertical"/>
	</action>
	
	<!-- Set ContentRecommendationWidget page size -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_pageSize"/>
		<param name="valueKey" value="test_xWidgetProp_pageSize_3"/>
	</action>
	
	<!-- Set ContentRecommendationWidget to use activity -->
	<action name="cmc/automation/AutoSetPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_populationChoice"/>
		<param name="valueKey" value="test_xWidgetProp_populationChoice_activity"/>
	</action>
	
	<!-- Find web activity -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindActivities"/>
		<param name="searchKey" value="test_webactivity_name"/>
		<param name="objectKey" value="webactivity"/>
	</action>
	
	<!-- Verify activity object exists. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="webactivity"/>
	</action>
	
	<!-- Create the ContentRecommendationWidget activity reference object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="referencedObject" value="webactivity"/>
		<param name="objectType" value="ActivityReference"/>
		<param name="objectKey" value="activityReference"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
<!--
	========================================================================================================================
	12. Verify modified Content Recommendation widget
	========================================================================================================================
-->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="ContentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_contentRecommendationWidgetName2"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify widget exists. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget orientation -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation_vertical"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget page size -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_pageSize"/>
		<param name="valueKey" value="test_xWidgetProp_pageSize_3"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget activity is selected -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_populationChoice"/>
		<param name="valueKey" value="test_xWidgetProp_populationChoice_activity"/>
	</action>
	
	<!-- Verify title object no longer exists after switching to web activity. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="WidgetDisplayTitle"/>
		<param name="propertyName" value="xExtData_displayTitle"/>
		<param name="propertyValueKey" value="test_xExtData_displayTitle2"/>
		<param name="objectKey" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify title object is missing -->
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="widgetDisplayTitle"/>
	</action>
	
	<!-- Verify web activity reference object exists. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="ActivityReference"/>
		<param name="objectKey" value="activityReference"/>
	</action>
	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="activityReference"/>
	</action>
	
	<!-- Verify the ContentRecommendationWidget web activity object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="activityReference"/>
		<param name="objectPath" value="WebActivity"/>
		<param name="objectKey" value="webactivity"/>
	</action>
	
	<!-- Verify web activity object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="webactivity"/>
	</action>
	
	<!-- Verify activity name -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="webactivity"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_webactivity_name"/>
	</action>
<!--
	========================================================================================================================
	13. Modify Content RecommendationWidget objects - change to new activity
	========================================================================================================================
-->
	<!-- Get new activity object -->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindActivities"/>
		<param name="searchKey" value="test_webactivity_name2"/>
		<param name="objectKey" value="webactivity2"/>
	</action>
	
	<!-- Verify new activity object exists. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="webactivity2"/>
	</action>
	
	<!-- Delete old web activity object. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="ActivityReference"/>
		<param name="objectKey" value="activityReference"/>
	</action>
	
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="activityReference"/>
	</action>
	
	<!-- Create the new ContentRecommendationWidget activity reference object -->
	<action name="cmc/automation/AutoCreateNewObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="referencedObject" value="webactivity2"/>
		<param name="objectType" value="ActivityReference"/>
		<param name="objectKey" value="activityReference2"/>
	</action>
	
	<!-- Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!-- Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
<!--
	========================================================================================================================
	14. Verify modified Content Recommendation widget
	========================================================================================================================
-->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="ContentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_contentRecommendationWidgetName2"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify object exists. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget orientation -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_widgetOrientation"/>
		<param name="valueKey" value="test_xWidgetProp_widgetOrientation_vertical"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget page size -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_pageSize"/>
		<param name="valueKey" value="test_xWidgetProp_pageSize_3"/>
	</action>
	
	<!-- Verify ContentRecommendationWidget activity selected -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="contentRecommendationWidget"/>
		<param name="propertyName" value="xWidgetProp_populationChoice"/>
		<param name="valueKey" value="test_xWidgetProp_populationChoice_activity"/>
	</action>
	
	<!-- Get web activity reference -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="contentRecommendationWidget"/>
		<param name="objectPath" value="ActivityReference"/>
		<param name="objectKey" value="activityReference2"/>
	</action>
	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="activityReference2"/>
	</action>
	
	<!-- Verify the web activity object -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="activityReference2"/>
		<param name="objectPath" value="WebActivity"/>
		<param name="objectKey" value="webactivity2"/>
	</action>
	
	<!-- Verify web activity object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="webactivity2"/>
	</action>
	
	<!-- Verify activity name -->
	<action name="cmc/automation/AutoVerifyPropertyAction">
		<param name="object" value="webactivity2"/>
		<param name="propertyName" value="name"/>
		<param name="valueKey" value="test_webactivity_name2"/>
	</action>
<!--
	========================================================================================================================
	15. Test deleting the Category Navigation and Content Recommendation widget objects
	========================================================================================================================
-->	
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="CategoryNavigationWidget"/>
	</action>
	
	<!-- Get the loaded categoryNavigationWidget child object with wigetName property match test_modcategoryNavigationWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="CategoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_modcategoryNavigationWidgetName"/>
		<param name="objectKey" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Verify that the categoryNavigationWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryNavigationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="categoryNavigationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!--	Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>

	<!--	Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>

<!--
	========================================================================================================================
	16. Verify deletion of Category Navigation and Content Recommendation widgets
	========================================================================================================================
-->
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>

	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="CategoryNavigationWidget"/>
	</action>
	
	<!-- Get the loaded categoryNavigationWidget child object with wigetName property match test_modcategoryNavigationWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="CategoryNavigationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_modcategoryNavigationWidgetName"/>
		<param name="objectKey" value="categoryNavigationWidget"/>
	</action>
	
	<!-- Verify that the categoryNavigationWidget object does not exist. -->	
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="categoryNavigationWidget"/>
	</action>
	
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="ContentRecommendationWidget"/>
	</action>
	
	<!-- Get the loaded ContentRecommendationWidget child object with wigetName property match test_contentRecommendationWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="ContentRecommendationWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_contentRecommendationWidgetName"/>
		<param name="objectKey" value="contentRecommendationWidget"/>
	</action>
	
	<!-- Verify that the contentRecommendationWidget object does not exists. -->	
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="contentRecommendationWidget"/>
	</action>
	
	<!-- ===== Verify that the facebook Widget object exists. ======== -->
	<action name="cmc/automation/AutoLoadChildrenAction">
		<param name="object" value="categoryPageLayout"/>
		<param name="objectType" value="FacebookActivityWidget"/>
	</action>

	<!-- Get the loaded facebookActivityWidget child object with wigetName property match test_facebookWidgetName. -->
	<action name="cmc/automation/AutoGetChildObjectAction">
		<param name="parentObject" value="categoryPageLayout"/>
		<param name="objectPath" value="FacebookActivityWidget"/>
		<param name="propertyName" value="widgetName"/>
		<param name="propertyValueKey" value="test_facebookWidgetName"/>
		<param name="objectKey" value="facebookActivityWidget"/>
	</action>
	
	<!-- Verify that the facebookActivityWidget object exist. -->	
	<action name="cmc/automation/AutoVerifyObjectAction">
		<param name="object" value="facebookActivityWidget"/>
	</action>

<!--
	========================================================================================================================
	17. Delete the layout object
	========================================================================================================================
-->
	
	<action name="cmc/automation/AutoDeleteObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>
		
	<!--	Save all -->
	<action name="cmc/automation/AutoSaveAllAction"/>
	
	<!--	Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
	<action name="cmc/automation/AutoFindObjectAction">
		<param name="searchType" value="FindStorePageLayouts"/>
		<param name="searchKey" value="test_categoryPgLayout_name"/>
		<param name="objectKey" value="categoryPageLayout"/>
	</action>
	
	<!-- Verify the page layout object exist. -->
	<action name="cmc/automation/AutoVerifyNoObjectAction">
		<param name="object" value="categoryPageLayout"/>
	</action>
	
	<!--	Refresh all -->
	<action name="cmc/automation/AutoRefreshAllAction"/>
	
	

</testcase>