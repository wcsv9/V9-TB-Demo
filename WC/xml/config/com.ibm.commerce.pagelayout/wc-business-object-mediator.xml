<?xml version="1.0" encoding="UTF-8"?>

<!--
 =================================================================
  Licensed Materials - Property of IBM

  WebSphere Commerce

  (C) Copyright IBM Corp. 2012, 2015 All Rights Reserved.

  US Government Users Restricted Rights - Use, duplication or
  disclosure restricted by GSA ADP Schedule Contract with
  IBM Corp.
 =================================================================
-->
<_config:BusinessObjectMediatorConfiguration 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://www.ibm.com/xmlns/prod/commerce/foundation/config ../xsd/wc-business-object-mediator.xsd"
	xmlns:_config="http://www.ibm.com/xmlns/prod/commerce/foundation/config" >
	

	<!-- The following is the read and change mediator configuration for the Layout noun. -->
	<!-- TODO: Replace the physical type in the following line with the correct physical SDO generated by the DSL wizard. -->
	<_config:object logicalType="com.ibm.commerce.pagelayout.facade.datatypes.LayoutType" physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayout">

    	<_config:mediator
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectMediator"
			className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadLayoutMediator">
     		     		     	
     		<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectPartMediator">
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadLayoutWidgetPartMediator" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadLayoutWidgetExtendedDataPartMediator" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadLayoutPageLocationPartMediator" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadLayoutStaticLocationPartMediator" />
     	     </_config:part-mediator>     	  

     	</_config:mediator>
     	
       	<_config:mediator
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeBusinessObjectMediator"
			className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutMediator" updateAccessProfile="IBM_Layout_Update">						
     		<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeBusinessObjectPartMediator">
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutBasePartMediator" updateAccessProfile="IBM_Layout_Update" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutPageLocationPartMediator" updateAccessProfile="IBM_Admin_Layout_PageLocation_Update" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutWidgetPartMediator" updateAccessProfile="IBM_Layout_Widget_Update"  />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutWidgetChildSlotPartMediator" updateAccessProfile="IBM_Layout_Widget_ChildSlot_Update"/>
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutWidgetExtendedDataPartMediator" updateAccessProfile="IBM_Layout_Widget_Update" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutPropertyPartMediator" updateAccessProfile="IBM_Admin_LayoutProperty_Update"/>
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangeLayoutStaticLocationPartMediator" updateAccessProfile="IBM_Admin_LayoutStaticLocation_Update"/>
           	</_config:part-mediator>
     	</_config:mediator>
		
		<_config:mediator
			className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectMediatorImpl"
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeControlBusinessObjectMediator">
			<_config:mediator-properties>
				<_config:mediator-property name="uniqueIDProperty"
					value="LayoutIdentifier/UniqueID" />
				<_config:mediator-property name="bokey2.uniqueIDProperty" value="LayoutIdentifier/ExternalIdentifier/StoreIdentifier/UniqueID" />
					
				<_config:mediator-property name="resourceManagerIds"
					value="3" />
				<_config:mediator-property name="resourceContainerId"
					value="19" />
			</_config:mediator-properties>
			
			<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.BusinessObjectMediator">
				<!--  PageLocation Locking -->
				<_config:part-mediator-implementation className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectPartMediatorImpl">
					 <_config:mediator-properties>
						<_config:mediator-property name="objectPath" value="PageLocation" />
						<_config:mediator-property name="uniqueIDProperty" value="PageLocationID" />
						<_config:mediator-property name="resourceManagerId" value="7" />
						<_config:mediator-property name="resourceContainerId" value="19" />
					 </_config:mediator-properties>
				</_config:part-mediator-implementation>
			</_config:part-mediator>
			
			<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.BusinessObjectMediator">
				<!--  Widget Extended data Locking -->
				<_config:part-mediator-implementation className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectPartMediatorImpl">
					 <_config:mediator-properties>
						<_config:mediator-property name="objectPath" value="Widget/ExtendedData" />
						<_config:mediator-property name="bokey2.uniqueIDProperty" value="StoreIdentifier/UniqueID" />
						<_config:mediator-property name="resourceManagerId" value="3" />
						<_config:mediator-property name="resourceContainerId" value="19" />
					 </_config:mediator-properties>
				</_config:part-mediator-implementation>
			</_config:part-mediator>
				
			
			
			
			
		</_config:mediator>
		
		<_config:mediator
			className="com.ibm.commerce.foundation.internal.server.services.changehistory.mediator.EchoBusinessObjectChangeHistoryMediatorImpl"
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.EchoBusinessObjectChangeHistoryMediator">
				<_config:mediator-properties> 
 
				 <_config:mediator-property name="nounName" value="Layout" />			  
					<_config:mediator-property name="classNameForAdditionalService"
					value="com.ibm.commerce.pagelayout.changehistory.LayoutChangeHistoryServiceImpl" />					
			</_config:mediator-properties>			
		</_config:mediator>

		<_config:property-mapping logicalType="com.ibm.commerce.pagelayout.facade.datatypes.LayoutType"
                         physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayout">
                  <_config:userDataProperty logicalPropertyName="customField1" physicalPropertyName="field1" />
                  <_config:userDataProperty logicalPropertyName="customField2" physicalPropertyName="field2" />
                  <_config:userDataProperty logicalPropertyName="customField3" physicalPropertyName="field3" />
      </_config:property-mapping>
      <_config:property-mapping logicalType="com.ibm.commerce.pagelayout.facade.datatypes.WidgetType"
                         physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayoutWidget">
                  <_config:userDataProperty logicalPropertyName="customField1" physicalPropertyName="field1" />
                  <_config:userDataProperty logicalPropertyName="customField2" physicalPropertyName="field2" />
                  <_config:userDataProperty logicalPropertyName="customField3" physicalPropertyName="field3" />
      </_config:property-mapping>
    </_config:object>
    

	<!-- The following is the read and change mediator configuration for the Page noun. -->
	<!-- TODO: Replace the physical type in the following line with the correct physical SDO generated by the DSL wizard. -->
	<_config:object logicalType="com.ibm.commerce.pagelayout.facade.datatypes.PageType" physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayoutPage">

    	<_config:mediator
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectMediator"
			className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadPageMediator">
     		     		     	
     		<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectPartMediator">
     	     </_config:part-mediator>     	  

     	</_config:mediator>
     	
       	<_config:mediator
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeBusinessObjectMediator"
			className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangePageMediator" updateAccessProfile="IBM_Admin_PageUpdate">						
     		<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeBusinessObjectPartMediator">
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangePageBasePartMediator" updateAccessProfile="IBM_Admin_PageUpdate" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangePageSEOPropertiesPartMediator" updateAccessProfile="IBM_Admin_PageUpdate" />
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ChangePageSEOURLPartMediator" updateAccessProfile="IBM_Admin_PageUpdate" />
           	</_config:part-mediator>
     	</_config:mediator>
     	
     	<_config:mediator
			className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectMediatorImpl"
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ChangeControlBusinessObjectMediator">
			<_config:mediator-properties>
				<_config:mediator-property name="uniqueIDProperty"
					value="PageIdentifier/UniqueID" />
				<_config:mediator-property name="resourceManagerIds"
					value="13" />
				<_config:mediator-property name="resourceContainerId"
					value="19" />
			</_config:mediator-properties>
			
			<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.BusinessObjectMediator">
				<!--  SEOURL Locking -->
				<_config:part-mediator-implementation className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectPartMediatorImpl">
					 <_config:mediator-properties>
						<_config:mediator-property name="objectPath" value="SEOURL" />
						<_config:mediator-property name="bokey2.uniqueIDProperty" value="ParentStoreIdentifier/UniqueID" />
						<_config:mediator-property name="resourceManagerId" value="21" />
						<_config:mediator-property name="resourceContainerId" value="14" />
					 </_config:mediator-properties>
				</_config:part-mediator-implementation>
			</_config:part-mediator>
			
			<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.BusinessObjectMediator">
				<!--  SEOProperties Locking -->
				<_config:part-mediator-implementation className="com.ibm.commerce.context.content.locking.ChangeControlBusinessObjectPartMediatorImpl">
					 <_config:mediator-properties>
						<_config:mediator-property name="objectPath" value="SEOProperties" />
						<_config:mediator-property name="bokey2.uniqueIDProperty" value="ParentStoreIdentifier/UniqueID" />
						<_config:mediator-property name="resourceManagerId" value="16" />
						<_config:mediator-property name="resourceContainerId" value="14" />
					 </_config:mediator-properties>
				</_config:part-mediator-implementation>
			</_config:part-mediator>
		</_config:mediator>
		
		<_config:mediator
			className="com.ibm.commerce.foundation.internal.server.services.changehistory.mediator.EchoBusinessObjectChangeHistoryMediatorImpl"
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.EchoBusinessObjectChangeHistoryMediator">
				<_config:mediator-properties> 
 
				 <_config:mediator-property name="nounName" value="Page" />			  
					<_config:mediator-property name="classNameForAdditionalService"
					value="com.ibm.commerce.pagelayout.changehistory.PageChangeHistoryServiceImpl" />					
			</_config:mediator-properties>			
		</_config:mediator>
		
		<_config:property-mapping logicalType="com.ibm.commerce.pagelayout.facade.datatypes.PageType"
                         physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayoutPage">
                  <_config:userDataProperty logicalPropertyName="customField1" physicalPropertyName="field1" />
                  <_config:userDataProperty logicalPropertyName="customField2" physicalPropertyName="field2" />
                  <_config:userDataProperty logicalPropertyName="customField3" physicalPropertyName="field3" />
      </_config:property-mapping> 			     	    
	
    </_config:object>
    
	<_config:object logicalType="com.ibm.commerce.pagelayout.facade.datatypes.WidgetDefinitionType" physicalType="com.ibm.commerce.pagelayout.facade.server.entity.datatypes.PageLayoutWidgetDefinition">

    	<_config:mediator
			interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectMediator"
			className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadWidgetDefinitionMediator">
			
			<_config:part-mediator
				interfaceName="com.ibm.commerce.foundation.server.services.dataaccess.bom.mediator.ReadBusinessObjectPartMediator">
				<_config:part-mediator-implementation className="com.ibm.commerce.pagelayout.facade.server.services.dataaccess.bom.mediator.ReadWidgetDefinitionDescriptionPartMediator" />
     	     </_config:part-mediator> 
     		     		     	
     	</_config:mediator>
		
    </_config:object>
    
</_config:BusinessObjectMediatorConfiguration>
